ref:
  as: interop-tests-fusion-access-diagnose-init-containers
  from: cli
  commands: interop-tests-fusion-access-diagnose-init-containers-commands.sh
  timeout: 15m0s
  grace_period: 15s
  best_effort: true
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  env:
  - name: STORAGE_SCALE_NAMESPACE
    documentation: The namespace for IBM Storage Scale
    default: "ibm-spectrum-scale"
  - name: STORAGE_SCALE_CLUSTER_NAME
    documentation: The name of the IBM Storage Scale cluster
    default: "ibm-spectrum-scale"
  documentation: |-
    Deep diagnostic analysis of IBM Storage Scale init container failures.
    
    This optional step runs comprehensive diagnostics on daemon pod init containers,
    extracting detailed error information, version compatibility data, and failure patterns.
    
    Tests include:
    - mmbuildgpl error message extraction
    - Kernel version compatibility reporting
    - buildgpl ConfigMap validation
    - Init container image version verification
    - Restart pattern analysis
    
    This step is most useful when daemon pods are failing to start, providing detailed
    diagnostic information for troubleshooting kernel module build issues, version
    incompatibilities, and other init container problems.
    
    Best used as an optional post-step or after cluster verification detects init failures.

