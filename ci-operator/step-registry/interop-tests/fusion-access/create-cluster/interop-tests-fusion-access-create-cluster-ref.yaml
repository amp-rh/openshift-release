ref:
  as: interop-tests-fusion-access-create-cluster
  from: cli
  commands: interop-tests-fusion-access-create-cluster-commands.sh
  timeout: 15m0s
  grace_period: 15s
  best_effort: true
  resources:
    requests:
      cpu: 100m
      memory: 200Mi
  env:
  - name: STORAGE_SCALE_NAMESPACE
    documentation: The namespace for IBM Storage Scale
    default: "ibm-spectrum-scale"
  - name: STORAGE_SCALE_CLUSTER_NAME
    documentation: The name of the IBM Storage Scale cluster
    default: "ibm-spectrum-scale"
  documentation: |-
    Wait for FusionAccess operator to automatically create the IBM Storage Scale Cluster.
    
    The FusionAccess operator with storageDeviceDiscovery enabled automatically:
    - Detects worker nodes labeled with scale.spectrum.ibm.com/role=storage
    - Discovers attached storage devices (EBS volumes in AWS)
    - Creates the Cluster CR with appropriate device configuration
    
    This step waits for and verifies the operator-created Cluster resource.
    
    Tests performed (JUnit XML):
    1. Cluster creation by operator (wait up to 10 minutes)
    2. Cluster has device configuration
    3. Devices were auto-discovered correctly
